# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Hysteria 2 –Ω–∞ —Ä–æ—É—Ç–µ—Ä–∞—Ö Keenetic

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Hysteria 2 –Ω–∞ —Ä–æ—É—Ç–µ—Ä–∞—Ö Keenetic —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Entware –∏ –ø—Ä–æ–µ–∫—Ç–∞ [H-wave](https://github.com/for6to9si/H-wave).

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- –†–æ—É—Ç–µ—Ä Keenetic —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π USB
- –í–Ω–µ—à–Ω–∏–π USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Entware
- –î–æ—Å—Ç—É–ø –∫ —Ä–æ—É—Ç–µ—Ä—É –ø–æ SSH

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Entware

–ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π Hysteria 2 –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å USB-–Ω–∞–∫–æ–ø–∏—Ç–µ–ª—å –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Entware.

üìò **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è Keenetic:**  
üëâ https://help.keenetic.ru/hc/ru/articles/360021214160.html

## –í–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ç—Ä–µ–±—É—é—Ç—Å—è –º–æ–¥—É–ª–∏ —è–¥—Ä–∞ Netfilter:
- `xt_TPROXY`
- `xt_socket`
- `xt_multiport`

### –ö–∞–∫ –≤–∫–ª—é—á–∏—Ç—å

–í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ Keenetic:
1. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Üí –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∏—Å—Ç–µ–º—ã ‚Üí –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã‚Üí –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ ‚Üí –ü–∞–∫–µ—Ç—ã OPKG**
3. –í–∫–ª—é—á–∏—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: **–ú–æ–¥—É–ª–∏ —è–¥—Ä–∞ –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã Netfilter**
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Ä–æ—É—Ç–µ—Ä –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Entware –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Ä–æ—É—Ç–µ—Ä—É –ø–æ SSH –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
opkg update
opkg install wget-ssl ca-certificates
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Hysteria 2

Hysteria 2 —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –∏–∑ —Ä–µ–ª–∏–∑–æ–≤ GitHub.

–î–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã mipsle:
```bash
opkg install https://github.com/for6to9si/H-wave/releases/download/v2.6.5/hysteria_2.6.5_mipsle.ipk
```
–î–ª—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã arm64:
```bash
opkg install https://github.com/for6to9si/H-wave/releases/download/v2.6.5/hysteria_2.6.5_arm64.ipk
```

‚ÑπÔ∏è –ï—Å–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–µ—Ä–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–±–∞ –ø–∞–∫–µ—Ç–∞ ‚Äî Entware –Ω–µ –ø–æ–∑–≤–æ–ª–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–∏–π.

‚ö†Ô∏è –í–µ—Ä—Å–∏—è arm64 –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å –∞–≤—Ç–æ—Ä–æ–º.

## –£–¥–∞–ª–µ–Ω–∏–µ Hysteria 2

–£–¥–∞–ª–µ–Ω–∏–µ –ø–∞–∫–µ—Ç–∞ Hysteria –∏–∑ —Å–ø–∏—Å–∫–∞ opkg –≤–ª–µ—á–µ—Ç –∑–∞ —Å–æ–±–æ–π —É–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∞–Ω–Ω–æ–π —Å –Ω–∏–º –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–æ—Å—Ç—É–ø–∞ Hwave –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ keenetic

```bash
opkg remove hysteria-tg-installer
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Hysteria

–î–∞–ª–µ–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–Ω–µ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Hysteria:


–ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∑–¥–µ—Å—å:  
[/opt/etc/hysteria/config.json](https://github.com/for6to9si/H-wave/blob/main/etc/hysteria/config.json)


## –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥

- `/opt/etc/init.d/S96hysteria status` ‚Äî —É–∑–Ω–∞—Ç—å —Ç–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

- `/opt/etc/init.d/S96hysteria restart` ‚Äî –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Hysteria  
  (–≤–∫–ª—é—á–∞–µ—Ç –∑–∞–ø—É—Å–∫ Hysteria –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏)

- `/opt/etc/init.d/S96hysteria fast_restart` ‚Äî –±—ã—Å—Ç—Ä—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ Hysteria  
  (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –Ω–µ –∑–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç—Å—è)

- `/opt/etc/init.d/S96hysteria firewall_up` ‚Äî –∑–∞–ø—É—Å–∫ / –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

- `/opt/etc/init.d/S96hysteria stop` ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ Hysteria –∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏

## –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

- –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∏ –¥—Ä—É–≥–∞—è –ø–æ–ª–µ–∑–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:
  ```bash
  cat /opt/var/log/hwave/hwave.log
  ```

## –í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ –æ Obfuscation

**–í–∫–ª—é—á–µ–Ω–∏–µ Obfuscation** (—Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: https://v2.hysteria.network/docs/advanced/Full-Client-Config/?h=obfuscation#obfuscation) –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –Ω–µ—Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ Hysteria –Ω–∞ —Å–æ—Ç–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞—Ö. –ü—Ä–∏—á–∏–Ω–∞: –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Ä–∞—Å–ø–æ–∑–Ω–∞—é—Ç –ø–∞–∫–µ—Ç—ã –∫–∞–∫ –Ω–µ–ø–æ–Ω—è—Ç–Ω—ã–π UDP-—Ç—Ä–∞—Ñ–∏–∫ –∏ –¥—Ä–æ–ø–∞—é—Ç –∏—Ö. –õ—É—á—à–µ –æ—Ç–∫–ª—é—á–∏—Ç—å –º–∞—Å–∫–∏—Ä–æ–≤–∫—É, –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç—å —Ä–∞–±–æ—Ç—É Hysteria –Ω–∞ —Ä–∞–±–æ—Ç—É quic


## –†–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å QUIC

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ–º–µ–Ω –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω 3-–≥–æ —É—Ä–æ–≤–Ω—è –Ω–∞ —Å–∞–π—Ç–µ: **freedns.afraid.org**
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç—å TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å –ø–æ–º–æ—â—å—é –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ ACME-–∫–ª–∏–µ–Ω—Ç–∞ Hysteria  
   –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://v2.hysteria.network/docs/getting-started/Server/?h=acme#__tabbed_1_1 

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–≤–æ–π –¥–æ–º–µ–Ω –∏ –ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π –¥–æ–º–µ–Ω
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫—É–ø–ª–µ–Ω–Ω—ã–π TLS-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç


## –ë—ã—Å—Ç—Ä—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ Hysteria

–ß–∏—Å—Ç–∞—è **Hysteria** –∏–º–µ–µ—Ç —Ä—è–¥ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –ø–µ—Ä–µ–¥ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø–∞–∫–µ—Ç–æ–º Hysteria –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ **sing-box**.

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø—Ü–∏–∏ **–º–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏**  
  üëâ https://v2.hysteria.network/docs/advanced/Full-Client-Config/?h=lazy#lazy

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø—Ü–∏–∏ **–±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**  
  üëâ https://v2.hysteria.network/docs/advanced/Full-Client-Config/?h=fast+open#fast-open

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç—ã

- –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –ø–æ **UDP** –º–æ–∂–µ—Ç –¥–µ—Ä–∂–∞—Ç—å—Å—è –ø–æ—á—Ç–∏ **2 —á–∞—Å–∞** –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –∫–ª—é—á–∞–º–∏.

- –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å **—Ä–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ QUIC**:  
  üëâ https://v2.hysteria.network/docs/advanced/Full-Client-Config/?h=quic+parameters#quic-parameters  
  –û–¥–Ω–∞–∫–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —ç—Ç–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å, —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ, –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è.

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤ –∏ —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã

## TCP (Redirect)
**–†–µ–∂–∏–º:** Redirect  
**–ü—Ä–æ—Ç–æ–∫–æ–ª:** TCP  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ü–æ—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö

| –°–µ—Ä–≤–∏—Å   | –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏                  | –°—Ç—Ä–æ–∫–∞ | –°—Å—ã–ª–∫–∞ |
|----------|------------------------------------|--------|--------|
| H-wave   | `/etc/hwave/hwave-conf.json`       | #L19   | [—Å—Å—ã–ª–∫–∞](https://github.com/for6to9si/H-wave/blob/main/etc/hwave/hwave-conf.json#L19) |
| Hysteria | `/etc/hysteria/config.json`        | #L22   | [—Å—Å—ã–ª–∫–∞](https://github.com/for6to9si/H-wave/blob/main/etc/hysteria/config.json#L22) |

## UDP (TPROXY)
**–†–µ–∂–∏–º:** TPROXY  
**–ü—Ä–æ—Ç–æ–∫–æ–ª:** UDP  
**–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ:** –ü–æ—Ä—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è—Ö

| –°–µ—Ä–≤–∏—Å   | –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏                  | –°—Ç—Ä–æ–∫–∞ | –°—Å—ã–ª–∫–∞ |
|----------|------------------------------------|--------|--------|
| H-wave   | `/etc/hwave/hwave-conf.json`       | #L20   | [—Å—Å—ã–ª–∫–∞](https://github.com/for6to9si/H-wave/blob/main/etc/hwave/hwave-conf.json#L20) |
| Hysteria | `/etc/hysteria/config.json`        | #L26   | [—Å—Å—ã–ª–∫–∞](https://github.com/for6to9si/H-wave/blob/main/etc/hysteria/config.json#L26) |

# –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ë–∏–Ω–∞—Ä–Ω–∏–∫ Hysteria –∑–∞–±–∏—Ä–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ GitHub Actions [—Å—Å—ã–ª–∫–∞](https://github.com/apernet/hysteria/releases) —Å –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ñ–∞–π–ª—ã c –ø—Ä–æ–µ–∫—Ç–∞ H-wave –∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –ø–∞–∫–µ—Ç ipk.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ arm64 –Ω–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª–∞—Å—å, —è –≤–∑—è–ª –±–∏–Ω–∞—Ä–Ω–∏–∫ –¥–ª—è —Å–±–æ—Ä–∫–∏  [hysteria-linux-arm64](https://github.com/apernet/hysteria/releases/download/app%2Fv2.6.5/hysteria-linux-arm64) –≤–æ–∑–º–æ–∂–Ω–æ —Å–ª–µ–¥–æ–≤–∞–ª–æ –≤–∑—è—Ç—å [hysteria-linux-arm](https://github.com/apernet/hysteria/releases/download/app%2Fv2.6.5/hysteria-linux-arm)

# –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **H-wave**: https://github.com/for6to9si/H-wave
- **Hysteria**: https://github.com/apernet/hysteria
- **Entware**: https://entware.net